<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Boston Cop Track</title>
        <link rel="stylesheet" href="./style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <meta charset="utf-8">
        <link rel="icon" type="image/svg+xml" href="./favicon.svg">
        <link rel="icon" type="image/png" href="./favicon.png">
        <meta name="viewport" content="width-device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
        <meta name="description" content="Look up a Boston Police Department employee to view their misconduct history">
        <script src="https://d3js.org/d3.v7.min.js"></script>
    </head>
    <body>
    <div class="container">
        <div class="topnav" id="myTopnav">
            <a href="./index.html" class="active">Home</a>
            <a href="./your-rights.html">Your Rights</a>
            <a href="./definitions.html">Definitions</a>
            <a href="./resources.html">Resources</a>
            <a href="./history.html">History of the BPD</a>
            <a href="javascript:void(0);" class="icon" onclick="myFunction()">
                <i class="fa fa-bars"></i>
            </a>
        </div>
        <div class="container" id="Header">
            <div class="item" id="Title">
                <img src="./cop-track-logo.png" alt="Boston Cop Track">
            <h1>Look up a Boston Police Department employee to view their misconduct history.</h1>
            <div id="search--preview"><p><u>Don't have the details? See a preview here.</u></p></div>
            <div id="error"></div>
                <div class="item" id="Search-Duo">
                <input type="text" id="search--value" placeholder="Enter badge ID number">
                <button id="search--button">Search</button>
                <aside>Boston Cop Track was assembled from multiple decades of reports from the Boston Police Department's Internal Affairs division, and various archival records.</aside>
                <div class="item" id="Hat-section-mobile">
                    <img src="./images/hat-mobile-sect.svg" alt="Police Officer Hat">
                </div>
                </div>
            </div>
            <div class="item" id="Hat-section">
                <img src="./cop-hat-svg.svg" alt="Police Officer Hat">
            </div>
        </div>
        <div class="container" id="White-before">
            <div class="cards">
                <h3 id="rights-head" class="header">
                Your Rights
                </h3>
                <div class="services">
                <div class="content content-1">
                    <h3>
                        An officer pulls you over
                    </h3>
                    <p>
                        If pulled over as a driver, you must identify yourself upon request. Passengers do not have to, unless the officer is issuing them a citation. Keep your seatbelt on. Make it clear you're exercising your rights to remain silent and not identify yourself. You have the right to ask officers to identify themselves.
                    </p>
                    <a href="./your-rights.html">More info</a>
                </div>
                <div class="content content-2">
                    <h3>
                        An officer stops you in public
                    </h3>
                    <p>
                        You do not have to identify yourself, even when asked. You have the right to ask why they're questioning you. Ask them whether you're under arrest and if you're free to leave. If the latter is true, you have the right to walk away. Do not run or draw attention to yourself while doing so.
                    </p>
                    <a href="./your-rights.html">More info</a>
                </div>
                <div class="content content-3">
                    <h3>
                        The police are at your door
                    </h3>
                    <p>
                        You do not have to answer any questions. You do not have to let them in, unless they have a search warrant. You have the right to ask to see that search warrant before letting them in. You do not have to identify yourself â€” neither do your guests. Do not lie or provide any false information.
                    </p>
                    <a href="./your-rights.html">More info</a>
                </div>
                </div>
        </div>
        <div class="container" id="Main">
            <div class="body-container" id="Definitions">
                <h2>Definitions</h2>
                <div id="Details-Box">
                <details>
                    <summary>Neglect of Duty/Unreasonable Judgment</summary>
                This includes any condcut or omission which is not in accordance with established and ordinary duties or procedures as to such employees or which constitutes use of unreasonable judgment in the exercising of any discretion granted to an employee. [Rule 102 Section 04]
                </details>
                <details>
                    <summary>Respectful Treatment</summary>
                    Employees shall, on all occasions, be civil and respectful, curteous and considerate toward their supervisors, their subordinates and all other members of the Department and the general public. No employee shall use epithets or terms that tend to denigrate any person(s) due to their race, color, creed, gender identity or sexual orientation except when necessary in police reports or in testimony. [Rule 102 Section 09]
                </details>
                <details>
                    <summary>Use of Force</summary>
                    Force is defined by the BPD as "the amount of physical effort, however slight, required by police to compel compliance by an unwilling individual." This definition has since become a lot more complex.
                </details>
                <details>
                    <summary>Conduct Unbecoming</summary>
                    Employees shall condcut themselves at all times, both on and off duty in such a manner as to reflect most favorably on the Department. Condcut unbecoming an employee shall include that which tends to indicate that the employee is unable or unfit to continue as a member of the Department, or tends to impair the operation of the Department or its employees. [Rule 102 Section 03]
                </details>
                <details>
                    <summary>Finding: Sustained</summary>
                    Sufficient evidence supports the complainant's allegations. The offending officer is subject to disciplinary action.
                </details>
                <details>
                    <summary>Finding: Not Sustained</summary>
                    Investigation failed to prove or disprove the allegations.
                </details>
                <details>
                    <summary>Finding: Exonerated</summary>
                    Complained of action did occur - however action was reasonable, proper and legal.
                </details>
                <details>
                    <summary>Finding: Unfounded</summary>
                    Investigation reveals complained of action did not occur.
                </details>
                </div>
            </div>
            <div class="body-container" id="About">
                <h2>About</h2>
                <p>The Boston Police Accountability Project (or Boston Cop Track) was assembled after learning of the Boston Police Department's intentions to construct their own misconduct interface. There exists a clear conflict of interest. Their data keeping practices leave much to be desired, and the terms they use can be hard to decipher. This is by design. For the sake of data transparency and accessibility, this interface was created in order to assist the citizens of Boston to stay informed.</p>
            </div>
        </div>
    </div>
    <div class="container" id="Footer">
        <ul>
            <li>
                <a href="https://mattewolfinger.github.io/resources.html#data-downloads">Download the data</a>
            </li>
            <li>
                Take action
            </li>
            <li>
                <a href="https://bpdnews.com/complaintform" target="_blank">File a complaint</a>
            </li>
        </ul>
        <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//mattewolfinger.github.io/" class="fa fa-facebook"></a>
        <a href="https://twitter.com/intent/tweet?text=https%3A//mattewolfinger.github.io/" class="fa fa-twitter"></a>
    </div>
    </div>
    <script>
        /* Toggle between adding and removing the "responsive" class to topnav when the user clicks on the icon */
        function myFunction() {
        var x = document.getElementById("myTopnav");
        if (x.className === "topnav") {
        x.className += " responsive";
        } else {
        x.className = "topnav";
        }
        }


        d3.csv("./data/2021-11-04_officers.csv").then(function(data) {

            let ids = data.map(function(d) {
                return d.badge;
            });

            let candidates = data.map(function(d) {
                return `${d.last_name}, ${d.first_name} (#${d.badge})`;
            });

            /* DO THE W3SCHOOLS STUFF HERE*/
            /*STEP 4*/
            /*STEP 5*/

            /*THEN MAKE AUTOCOMPLETE ACTIVE ON AN EXISTING ELEMENT*/

            d3.select("#search--button").on("click", function() {

                let badge_id = d3.select("#search--value").property("value");

                if (badge_id === "") {
                    d3.select("#error").html("You must enter a badge ID");
                } else if(ids.indexOf(badge_id) < 0) {
                    d3.select("#error").html("Please enter a valid badge ID");
                } else if(badge_id === "ZZZZZ") {
                    d3.select("#error").html("Please enter a valid badge ID");
                } else if(badge_id === "DSUPT") {
                    d3.select("#error").html("Please enter a valid badge ID");
                } else if(badge_id === "DT419") {
                    d3.select("#error").html("Please enter a valid badge ID");
                } else if(badge_id === "LT96") {
                    d3.select("#error").html("Please enter a valid badge ID");
                } else if(badge_id === "PC") {
                    d3.select("#error").html("Please enter a valid badge ID");
                } else if(badge_id === "SUPT") {
                    d3.select("#error").html("Please enter a valid badge ID");
                } else if(badge_id === "CAPT") {
                    d3.select("#error").html("Please enter a valid badge ID");
                } else {
                    let url = `./single-officer.html#${badge_id}`;
                    window.location = url;
                }

            });

                d3.select("#search--preview").on("click", function() {

                let badge_id = "1877";

                let url = `./single-officer.html#${badge_id}`;

                window.location = url;


});


        });


        d3.select("#search--button").on("click", function() {

            let badge_id = d3.select("#search--value").property("value");

            if (badge_id === "") {
                d3.select("#error").html("You must enter a badge ID");
            } else {
                let url = `./single-officer.html#${badge_id}`;
                window.location = url;
            }


        });
        
        d3.select("#search--preview").on("click", function() {

            let badge_id = "1877";

            let url = `./single-officer.html#${badge_id}`;

            window.location = url;


        });
    </script>
    </body>
</html>
